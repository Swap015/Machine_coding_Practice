<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>TODO</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-400 min-h-screen flex justify-center items-center">

    <div class="w-full max-w-sm bg-white p-6 rounded-lg shadow-lg">
        <h1 class="text-2xl font-bold text-center mb-4">TO-DO</h1>

        <div class="space-y-3">
            <input id="taskName" type="text" placeholder="Task Name" class="w-full border p-2 rounded" />

            <input id="taskDesc" type="text" placeholder="Task Description" class="w-full border p-2 rounded" />

            <input id="taskDeadline" type="date" class="w-full border p-2 rounded" />

            <button onclick="addTask()" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">
                Add Task
            </button>
        </div>


        <div id="taskList" class="mt-6 space-y-4"></div>
    </div>

    <script>
        let tasks = [];
        let editIndex = null;

        function addTask() {
            const name = document.getElementById("taskName").value;
            const desc = document.getElementById("taskDesc").value;
            const deadline = document.getElementById("taskDeadline").value;

            if (!name || !desc || !deadline) {
                alert("Please fill all fields");
                return;
            }

            if (editIndex === null) {
                tasks.push({ name, desc, deadline });
            } else {
                tasks[editIndex] = { name, desc, deadline };
                editIndex = null;
            }

            clearInputs();
            renderTasks();
        }

        function renderTasks() {
            const taskList = document.getElementById("taskList");
            taskList.innerHTML = "";

            tasks.forEach((task, index) => {
                const div = document.createElement("div");
                div.className = "border p-4 rounded bg-gray-50";

                div.innerHTML = `
                <h2 class="font-bold text-lg">${task.name}</h2>
                <p class="text-gray-600">${task.desc}</p>
                <p class="text-sm text-gray-500">Deadline: ${task.deadline}</p>

                <div class="mt-3 flex gap-2">
                    <button onclick="editTask(${index})"
                        class="bg-gray-500 text-white px-3 py-1 rounded">
                        Edit
                    </button>
                    <button onclick="deleteTask(${index})"
                        class="bg-red-500 text-white px-3 py-1 rounded">
                        Delete
                    </button>
                </div>
            `;

                taskList.appendChild(div);
            });
        }

        function editTask(index) {
            const task = tasks[index];
            document.getElementById("taskName").value = task.name;
            document.getElementById("taskDesc").value = task.desc;
            document.getElementById("taskDeadline").value = task.deadline;
            editIndex = index;
        }

        function deleteTask(index) {
            tasks.splice(index, 1);
            renderTasks();
        }

        function clearInputs() {
            document.getElementById("taskName").value = "";
            document.getElementById("taskDesc").value = "";
            document.getElementById("taskDeadline").value = "";
        }
    </script>

</body>

</html>